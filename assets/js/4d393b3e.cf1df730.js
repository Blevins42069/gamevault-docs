"use strict";(self.webpackChunkgamevault_docs=self.webpackChunkgamevault_docs||[]).push([[9155],{4137:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>y});var r=a(911);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=r.createContext({}),c=function(e){var t=r.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},l=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,u=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),p=c(a),m=n,y=p["".concat(u,".").concat(m)]||p[m]||d[m]||o;return a?r.createElement(y,s(s({ref:t},l),{},{components:a})):r.createElement(y,s({ref:t},l))}));function y(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,s=new Array(o);s[0]=m;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i[p]="string"==typeof e?e:n,s[1]=i;for(var c=2;c<o;c++)s[c]=a[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2115:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=a(7462),n=(a(911),a(4137));const o={sidebar_position:7.5},s="Database Backup & Restoration",i={unversionedId:"server-docs/backup-and-restore",id:"server-docs/backup-and-restore",title:"Database Backup & Restoration",description:"The Backup and Restoration Mechanisms in Gamevault are currently experimental and should not be your primary backup solution. Always maintain your database backups independently and only consider using this as a last resort. In summary, we recommend avoiding this entire process whenever possible, as it can potentially be quite fragile and prone to issues. But i guess something is better than nothing...",source:"@site/docs/server-docs/backup-and-restore.md",sourceDirName:"server-docs",slug:"/server-docs/backup-and-restore",permalink:"/docs/server-docs/backup-and-restore",draft:!1,editUrl:"https://github.com/phalcode/gamevault-docs/tree/master/docs/server-docs/backup-and-restore.md",tags:[],version:"current",sidebarPosition:7.5,frontMatter:{sidebar_position:7.5},sidebar:"docs",previous:{title:"Game Indexing and Information Retrieval",permalink:"/docs/server-docs/indexing-and-metadata"},next:{title:"Images",permalink:"/docs/server-docs/images"}},u={},c=[{value:"Backup",id:"backup",level:2},{value:"Restoration",id:"restoration",level:2}],l={toc:c},p="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(p,(0,r.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"database-backup--restoration"},"Database Backup & Restoration"),(0,n.kt)("admonition",{title:"Experimental",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"The Backup and Restoration Mechanisms in Gamevault are currently experimental and should ",(0,n.kt)("strong",{parentName:"p"},"not")," be your primary backup solution. Always maintain your database backups independently and only consider using this as a last resort. In summary, we recommend avoiding this entire process whenever possible, as it can potentially be quite fragile and prone to issues. But i guess something is better than nothing...")),(0,n.kt)("admonition",{title:"Security Measurements  ",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"For security resons any database operation outlined below must be additionally authenticated using your database password.  ")),(0,n.kt)("h2",{id:"backup"},"Backup"),(0,n.kt)("p",null,"Gamevault offers a user-friendly backup system for both supported database systems, Postgres and SQLite. You can trigger and download backups either through the GameVault Client or directly via the ",(0,n.kt)("a",{parentName:"p",href:"/docs/advanced-usage/api-usage"},"API")," for automation purposes. Each backup is a complete database snapshot, and it's essential to handle these files with care, as they are unencrypted. You can create as many backups as needed."),(0,n.kt)("p",null,"For SQLite, the Gamevault Backup simply duplicates the database file."),(0,n.kt)("p",null,"For Postgres, it utilizes pgdump to create a comprehensive database dump."),(0,n.kt)("h2",{id:"restoration"},"Restoration"),(0,n.kt)("p",null,"Restoring a backup is a straightforward process."),(0,n.kt)("p",null,"You can trigger the restoration and upload backups using the GameVault Client or via the ",(0,n.kt)("a",{parentName:"p",href:"/docs/advanced-usage/api-usage"},"API")," for automated procedures. However, before you proceed, there are some critical points to consider:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"We strongly discourage restoring a backup on a different server version. If you must do it, consider downgrading your GameVault server to a lower version, ideally the version of your backup, as higher versions are more likely to cause compatibility issues. If you have no alternative, make sure to back up your current data again before proceeding.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Never, under any circumstances"),", attempt to restore a backup from a different database technology (e.g., SQLite to Postgres or vice versa). This will result in a catastrophic failure.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Always monitor the server logs while restoring a backup. If you notice anything unusual or different than a harmless warning, make a copy and securely store the file located at /tmp/gamevault-pre-restore.db on your container/server. This file serves as a backup created just before restoring the uploaded backup. In case of a major failure, Gamevault may also perform this pre-restore backup restoration automatically. If you encounter difficulties, attempt to restore from this file. If this doesn't resolve the issue, you may need to explore manual restoration or consider other backup options.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"The Restoration is not incremental. It hard-deletes everything and hard-restores everything."))))}d.isMDXComponent=!0}}]);